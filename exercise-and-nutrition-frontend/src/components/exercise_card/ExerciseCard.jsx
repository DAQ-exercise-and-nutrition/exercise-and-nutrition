import "./exercise-card.css"
import React, { useState, useEffect } from 'react';
import Modal from '@mui/material/Modal';


const ExerciseCard = (props) => {
  const { exercise } = props

  const [open, setOpen] = useState(false)

  var name = exercise.name

  if (exercise.name.length >= 10) {
    name = exercise.name.slice(0, 10) + "..."
  }

  const handleOpen = () => {
    if (!open) { setOpen(true); }

  }

  const handleClose = () => {
    setOpen(false)
  }

  return (
    <div className="card" onClick={handleOpen}>
      <Modal
        disableEnforceFocus
        open={open}
        onClose={handleClose}
        aria-labelledby="modal-modal-title"
        aria-describedby="modal-modal-description"
      >
        <div className="instruction">
          <div className="card-modal">

            <div className="card-title">
              <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M12.7364 9.25057C12.8074 9.3749 12.872 9.50284 12.9298 9.63386C12.9574 9.69803 12.9712 9.76733 12.9701 9.8372C12.969 9.90707 12.9531 9.97591 12.9235 10.0392C12.8939 10.1025 12.8512 10.1588 12.7983 10.2044C12.7453 10.25 12.6833 10.2839 12.6163 10.3038C12.4985 10.3396 12.3716 10.3308 12.2597 10.2792C12.1479 10.2276 12.0589 10.1367 12.0097 10.0238C10.9753 7.67936 7.73904 7.12882 5.99914 9.02397C5.46154 9.58934 5.12024 10.3127 5.02575 11.0871C5.01245 11.2099 4.95452 11.3236 4.86294 11.4065C4.77136 11.4895 4.65252 11.5359 4.52896 11.537C4.45903 11.5373 4.38982 11.5228 4.32585 11.4946C4.26189 11.4663 4.2046 11.4249 4.15773 11.373C4.11086 11.3211 4.07546 11.2599 4.05384 11.1934C4.03222 11.1269 4.02487 11.0566 4.03226 10.9871C4.11133 10.3338 4.32739 9.70466 4.66632 9.14065C5.00525 8.57664 5.45942 8.0905 5.99914 7.714V5.53754H8.66604C9.01969 5.53754 9.35886 5.39707 9.60893 5.14705C9.859 4.89702 9.99949 4.55791 9.99949 4.20432V1.73454C9.99907 1.52989 9.94498 1.32893 9.84261 1.15172C9.74024 0.97451 9.59318 0.827239 9.4161 0.724609L8.54599 0.221314C8.23055 0.0393953 7.8639 -0.0334019 7.50287 0.0142069C7.14185 0.0618158 6.80661 0.227171 6.54914 0.48464L3.05885 3.97434C2.75223 4.27986 2.51564 4.64832 2.36543 5.05424L0.135257 11.0671C0.0350941 11.3371 -0.0102297 11.6245 0.00193321 11.9123C0.0140961 12.2 0.0835019 12.4825 0.206095 12.7432C0.328689 13.0039 0.502011 13.2375 0.715935 13.4304C0.929859 13.6233 1.1801 13.7717 1.45202 13.8668C3.1955 14.4735 6.36911 15.2034 8.66602 15.2034C9.79991 15.127 10.8988 14.6835 12.0296 15.0568C12.4775 15.1748 12.9316 15.2682 13.3897 15.3367L13.2097 14.7934C13.1881 14.7293 13.1797 14.6614 13.185 14.5939C13.1902 14.5264 13.2091 14.4606 13.2405 14.4006C13.2718 14.3406 13.3149 14.2875 13.3673 14.2446C13.4197 14.2017 13.4802 14.1698 13.5452 14.1508C13.8062 14.0724 14.0794 14.2428 14.1658 14.5013L14.6666 16H15.5016C15.6338 16 15.7605 15.9475 15.854 15.854C15.9475 15.7606 16 15.6338 16 15.5017V9.37791C15.9996 9.31043 15.9856 9.24372 15.9589 9.18177C15.9321 9.11983 15.8931 9.06392 15.8442 9.0174C15.7953 8.97089 15.7375 8.93472 15.6743 8.91106C15.6111 8.8874 15.5438 8.87675 15.4764 8.87973C14.5527 8.90868 13.6345 9.03296 12.7364 9.25057ZM10.4595 12.2137C9.37257 12.523 8.23669 12.6225 7.11253 12.507C6.46469 12.4259 6.5613 11.4553 7.21589 11.5137C8.21241 11.6139 9.2189 11.5258 10.1828 11.2537C10.8194 11.0821 11.0899 12.0214 10.4595 12.2137Z" fill="black" />
              </svg></span>
              <h3> {exercise.name}</h3>
            </div>
            <div className="card-detail">
              <table>

                <tr>
                  <td>BodyPart</td>
                  <td>{exercise.body_part}</td>

                </tr>
                <tr>
                  <td>Equipment</td>
                  <td>{exercise.equipment}</td>
                </tr>

                <tr>
                  <td>Target</td>
                  <td>{exercise.target}</td>
                </tr>


              </table>

            </div>
          </div>

          <div className="instruction-detail">
            <div className="card-title">
              <h3>Instructions</h3>
            </div>
            <p>{exercise.instructions}</p>
          </div>

        </div>
      </Modal>
      <div className="card-title">
        <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M12.7364 9.25057C12.8074 9.3749 12.872 9.50284 12.9298 9.63386C12.9574 9.69803 12.9712 9.76733 12.9701 9.8372C12.969 9.90707 12.9531 9.97591 12.9235 10.0392C12.8939 10.1025 12.8512 10.1588 12.7983 10.2044C12.7453 10.25 12.6833 10.2839 12.6163 10.3038C12.4985 10.3396 12.3716 10.3308 12.2597 10.2792C12.1479 10.2276 12.0589 10.1367 12.0097 10.0238C10.9753 7.67936 7.73904 7.12882 5.99914 9.02397C5.46154 9.58934 5.12024 10.3127 5.02575 11.0871C5.01245 11.2099 4.95452 11.3236 4.86294 11.4065C4.77136 11.4895 4.65252 11.5359 4.52896 11.537C4.45903 11.5373 4.38982 11.5228 4.32585 11.4946C4.26189 11.4663 4.2046 11.4249 4.15773 11.373C4.11086 11.3211 4.07546 11.2599 4.05384 11.1934C4.03222 11.1269 4.02487 11.0566 4.03226 10.9871C4.11133 10.3338 4.32739 9.70466 4.66632 9.14065C5.00525 8.57664 5.45942 8.0905 5.99914 7.714V5.53754H8.66604C9.01969 5.53754 9.35886 5.39707 9.60893 5.14705C9.859 4.89702 9.99949 4.55791 9.99949 4.20432V1.73454C9.99907 1.52989 9.94498 1.32893 9.84261 1.15172C9.74024 0.97451 9.59318 0.827239 9.4161 0.724609L8.54599 0.221314C8.23055 0.0393953 7.8639 -0.0334019 7.50287 0.0142069C7.14185 0.0618158 6.80661 0.227171 6.54914 0.48464L3.05885 3.97434C2.75223 4.27986 2.51564 4.64832 2.36543 5.05424L0.135257 11.0671C0.0350941 11.3371 -0.0102297 11.6245 0.00193321 11.9123C0.0140961 12.2 0.0835019 12.4825 0.206095 12.7432C0.328689 13.0039 0.502011 13.2375 0.715935 13.4304C0.929859 13.6233 1.1801 13.7717 1.45202 13.8668C3.1955 14.4735 6.36911 15.2034 8.66602 15.2034C9.79991 15.127 10.8988 14.6835 12.0296 15.0568C12.4775 15.1748 12.9316 15.2682 13.3897 15.3367L13.2097 14.7934C13.1881 14.7293 13.1797 14.6614 13.185 14.5939C13.1902 14.5264 13.2091 14.4606 13.2405 14.4006C13.2718 14.3406 13.3149 14.2875 13.3673 14.2446C13.4197 14.2017 13.4802 14.1698 13.5452 14.1508C13.8062 14.0724 14.0794 14.2428 14.1658 14.5013L14.6666 16H15.5016C15.6338 16 15.7605 15.9475 15.854 15.854C15.9475 15.7606 16 15.6338 16 15.5017V9.37791C15.9996 9.31043 15.9856 9.24372 15.9589 9.18177C15.9321 9.11983 15.8931 9.06392 15.8442 9.0174C15.7953 8.97089 15.7375 8.93472 15.6743 8.91106C15.6111 8.8874 15.5438 8.87675 15.4764 8.87973C14.5527 8.90868 13.6345 9.03296 12.7364 9.25057ZM10.4595 12.2137C9.37257 12.523 8.23669 12.6225 7.11253 12.507C6.46469 12.4259 6.5613 11.4553 7.21589 11.5137C8.21241 11.6139 9.2189 11.5258 10.1828 11.2537C10.8194 11.0821 11.0899 12.0214 10.4595 12.2137Z" fill="black" />
        </svg></span>
        <h3> {name}</h3>
      </div>
      <div className="card-detail">
        <table>

          <tr>
            <td>BodyPart</td>
            <td>{exercise.body_part}</td>

          </tr>
          <tr>
            <td>Equipment</td>
            <td>{exercise.equipment}</td>
          </tr>

          <tr>
            <td>Target</td>
            <td>{exercise.target}</td>
          </tr>


        </table>

      </div>
    </div>
  )
}

export default ExerciseCard